<div class="row">
   <div style="margin:0 auto;width:90%;">

      <form id="search-box" class="form-search" method="get" action="https://libfind.linnbenton.edu:4430" onsubmit="route_search(event)">
	     <fieldset class="row" style="margin:0 auto;"><input name="q" type="text" class="input-lg search-query" style="width:80%;">
		    <input name="db" type="hidden" value="aph" />
			<input name="detail_record_view" type="hidden" value="1" />
			<input name="direct" type="hidden" value="true" />
			<input name="locg" type="hidden" value="8"/>
			<input name="show_articles" type="hidden" />
			<input name="site" type="hidden" value="ehost-live" />
			<input name="type" type="hidden" />
			<button type="submit" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search</button>
		</fieldset>
		<select class="form-control" id="search-source">
		    <option>Everything</option>
		    <option>Articles</option>
		    <option>Books</option>
		    <option>Ebooks</option>
		    <option>Overviews</option>
                 </select>
	</form>
</div></div>
<script>
function route_search(event) {
   event.preventDefault();
   var search_form = document.getElementById("search-box");

   var search_source = document.getElementById('search-source').selectedIndex;

   var query_field = document.createElement("input");
   query_field.setAttribute("value", search_form.elements["q"].value);
   if ("0" == search_source) {
      search_form.action = "https://libfind.linnbenton.edu:4430";
	  search_form.elements["show_articles"].value = "true";
   } else if ("1" == search_source) {
      search_form.action = "http://search.ebscohost.com.ezproxy.libweb.linnbenton.edu:2048/login.aspx";
	  query_field.setAttribute("name", "bquery");
	  search_form.elements["type"].value = "1";
   } else if ("2" == search_source) {
      search_form.action = "http://libcat.linnbenton.edu/eg/opac/results";
	  query_field.setAttribute("name", "query");
   } else if ("3" == search_source) {
      search_form.action = "http://site.ebrary.com/lib/linnbenton/search.action";
	  query_field.setAttribute("name", "p00");
   }  else {
      search_form.action = "http://search.credoreference.com.ezproxy.libweb.linnbenton.edu:2048/search/all";
	  query_field.setAttribute("name", "searchPhrase");}
   search_form.appendChild(query_field);
   search_form.submit();
   search_form.removeChild(query_field);



   return false;}</script>
